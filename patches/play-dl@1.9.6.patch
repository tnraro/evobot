diff --git a/dist/index.js b/dist/index.js
index 1e8cb427430becc06aeec4d52a1a7dc2fd9bf8d0..eefd8528aa4d1edc5a363b1457c9cc71371d14d6 100644
--- a/dist/index.js
+++ b/dist/index.js
@@ -1,5 +1,5 @@
 var ee=Object.defineProperty;var Bt=Object.getOwnPropertyDescriptor;var Yt=Object.getOwnPropertyNames;var Wt=Object.prototype.hasOwnProperty;var a=(i,e)=>ee(i,"name",{value:e,configurable:!0});var Jt=(i,e)=>{for(var t in e)ee(i,t,{get:e[t],enumerable:!0})},Vt=(i,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Yt(e))!Wt.call(i,s)&&s!==t&&ee(i,s,{get:()=>e[s],enumerable:!(r=Bt(e,s))||r.enumerable});return i};var Ft=i=>Vt(ee({},"__esModule",{value:!0}),i);var Ei={};Jt(Ei,{DeezerAlbum:()=>q,DeezerPlaylist:()=>U,DeezerTrack:()=>g,SoundCloudPlaylist:()=>P,SoundCloudStream:()=>L,SoundCloudTrack:()=>T,SpotifyAlbum:()=>z,SpotifyPlaylist:()=>N,SpotifyTrack:()=>E,YouTubeChannel:()=>v,YouTubePlayList:()=>D,YouTubeVideo:()=>S,attachListeners:()=>zt,authorization:()=>Nt,decipher_info:()=>j,deezer:()=>Ne,default:()=>Si,dz_advanced_track_search:()=>ze,dz_validate:()=>Se,extractID:()=>ue,getFreeClientID:()=>$e,is_expired:()=>Oe,playlist_info:()=>he,refreshToken:()=>_e,search:()=>$t,setToken:()=>Le,so_validate:()=>ve,soundcloud:()=>ke,sp_validate:()=>ge,spotify:()=>Ce,stream:()=>Ot,stream_from_info:()=>Pt,validate:()=>At,video_basic_info:()=>H,video_info:()=>ce,yt_validate:()=>Y});module.exports=Ft(Ei);var He=require("https"),Qe=require("url"),F=require("zlib");var V=require("fs"),k;(0,V.existsSync)(".data/youtube.data")&&(k=JSON.parse((0,V.readFileSync)(".data/youtube.data","utf-8")),k.file=!0);function Ve(){let i="";if(!!k?.cookie){for(let[e,t]of Object.entries(k.cookie))i+=`${e}=${t};`;return i}}a(Ve,"getCookies");function jt(i,e){return k?.cookie?(i=i.trim(),e=e.trim(),Object.assign(k.cookie,{[i]:e}),!0):!1}a(jt,"setCookie");function Kt(){k.cookie&&k.file&&(0,V.writeFileSync)(".data/youtube.data",JSON.stringify(k,void 0,4))}a(Kt,"uploadCookie");function Fe(i){let e=i.cookie,t={};e.split(";").forEach(r=>{let s=r.split("=");if(s.length<=1)return;let n=s.shift()?.trim(),o=s.join("=").trim();Object.assign(t,{[n]:o})}),k={cookie:t},k.file=!1}a(Fe,"setCookieToken");function je(i){!k?.cookie||(i.forEach(e=>{e.split(";").forEach(t=>{let r=t.split("=");if(r.length<=1)return;let s=r.shift()?.trim(),n=r.join("=").trim();jt(s,n)})}),Kt())}a(je,"cookieHeaders");var te=["Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36 Edg/101.0.1210.53","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36 Edg/99.0.1150.30","Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.67 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 YaBrowser/19.10.3.281 Yowser/2.5 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36","Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36","Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36"];function Ke(i){te.push(...i)}a(Ke,"setUserAgent");function Ht(i,e){return i=Math.ceil(i),e=Math.floor(e),Math.floor(Math.random()*(e-i+1))+i}a(Ht,"getRandomInt");function Ge(){let i=Ht(0,te.length-1);return te[i]}a(Ge,"getRandomUserAgent");function w(i,e={method:"GET"}){return new Promise(async(t,r)=>{let s=await re(i,e).catch(n=>n);if(s instanceof Error){r(s);return}Number(s.statusCode)>=300&&Number(s.statusCode)<400&&(s=await w(s.headers.location,e)),t(s)})}a(w,"request_stream");function Ze(i,e={method:"GET"}){return new Promise(async(t,r)=>{let s=await re(i,e).catch(n=>n);if(s instanceof Error){r(s);return}if(Number(s.statusCode)>=300&&Number(s.statusCode)<400)s=await Ze(s.headers.location,e);else if(Number(s.statusCode)>400){r(new Error(`Got ${s.statusCode} from the request`));return}t(s)})}a(Ze,"internalRequest");function h(i,e={method:"GET"}){return new Promise(async(t,r)=>{let s=!1;if(e.cookies){let u=Ve();typeof u=="string"&&e.headers&&(Object.assign(e.headers,{cookie:u}),s=!0)}if(e.cookieJar){let u=[];for(let m of Object.entries(e.cookieJar))u.push(m.join("="));if(u.length!==0){e.headers||(e.headers={});let m=s?`; ${e.headers.cookie}`:"";Object.assign(e.headers,{cookie:`${u.join("; ")}${m}`})}}e.headers&&(e.headers={...e.headers,"accept-encoding":"gzip, deflate, br","user-agent":Ge()});let n=await Ze(i,e).catch(u=>u);if(n instanceof Error){r(n);return}if(n.headers&&n.headers["set-cookie"]){if(e.cookieJar)for(let u of n.headers["set-cookie"]){let m=u.split(";")[0].trim().split("=");e.cookieJar[m.shift()]=m.join("=")}s&&je(n.headers["set-cookie"])}let o=[],l,c=n.headers["content-encoding"];c==="gzip"?l=(0,F.createGunzip)():c==="br"?l=(0,F.createBrotliDecompress)():c==="deflate"&&(l=(0,F.createDeflate)()),l?(n.pipe(l),l.setEncoding("utf-8"),l.on("data",u=>o.push(u)),l.on("end",()=>t(o.join("")))):(n.setEncoding("utf-8"),n.on("data",u=>o.push(u)),n.on("end",()=>t(o.join(""))))})}a(h,"request");function ie(i){return new Promise(async(e,t)=>{let r=await re(i,{method:"HEAD"}).catch(n=>n);if(r instanceof Error){t(r);return}let s=Number(r.statusCode);if(s<300)e(i);else if(s<400){let n=await ie(r.headers.location).catch(o=>o);if(n instanceof Error){t(n);return}e(n)}else t(new Error(`${r.statusCode}: ${r.statusMessage}, ${i}`))})}a(ie,"request_resolve_redirect");function Te(i){return new Promise(async(e,t)=>{let r=await re(i,{method:"HEAD"}).catch(n=>n);if(r instanceof Error){t(r);return}let s=Number(r.statusCode);if(s<300)e(Number(r.headers["content-length"]));else if(s<400){let n=await ie(r.headers.location).catch(l=>l);if(n instanceof Error){t(n);return}let o=await Te(n).catch(l=>l);if(o instanceof Error){t(o);return}e(o)}else t(new Error(`Failed to get content length with error: ${r.statusCode}, ${r.statusMessage}, ${i}`))})}a(Te,"request_content_length");function re(i,e={}){return new Promise((t,r)=>{let s=new Qe.URL(i);e.method??="GET";let n={host:s.hostname,path:s.pathname+s.search,headers:e.headers??{},method:e.method},o=(0,He.request)(n,t);o.on("error",l=>{r(l)}),e.method==="POST"&&o.write(e.body),o.end()})}a(re,"https_getter");var Ie=require("stream");var se=require("url");var G="[a-zA-Z_\\$]\\w*",Qt="'[^'\\\\]*(:?\\\\[\\s\\S][^'\\\\]*)*'",Zt='"[^"\\\\]*(:?\\\\[\\s\\S][^"\\\\]*)*"',et=`(?:${Qt}|${Zt})`,A=`(?:${G}|${et})`,Xt=`(?:\\.${G}|\\[${et}\\])`,Xe=`(?:''|"")`,tt=":function\\(a\\)\\{(?:return )?a\\.reverse\\(\\)\\}",it=":function\\(a,b\\)\\{return a\\.slice\\(b\\)\\}",rt=":function\\(a,b\\)\\{a\\.splice\\(0,b\\)\\}",st=":function\\(a,b\\)\\{var c=a\\[0\\];a\\[0\\]=a\\[b(?:%a\\.length)?\\];a\\[b(?:%a\\.length)?\\]=c(?:;return a)?\\}",ei=new RegExp(`var (${G})=\\{((?:(?:${A}${tt}|${A}${it}|${A}${rt}|${A}${st}),?\\r?\\n?)+)\\};`),ti=new RegExp(`${`function(?: ${G})?\\(a\\)\\{a=a\\.split\\(${Xe}\\);\\s*((?:(?:a=)?${G}`}${Xt}\\(a,\\d+\\);)+)return a\\.join\\(${Xe}\\)\\}`),ii=new RegExp(`(?:^|,)(${A})${tt}`,"m"),ri=new RegExp(`(?:^|,)(${A})${it}`,"m"),si=new RegExp(`(?:^|,)(${A})${rt}`,"m"),ni=new RegExp(`(?:^|,)(${A})${st}`,"m");function oi(i){let e=ti.exec(i),t=ei.exec(i);if(!e||!t)return null;let r=t[1].replace(/\$/g,"\\$"),s=t[2].replace(/\$/g,"\\$"),n=e[1].replace(/\$/g,"\\$"),o=ii.exec(s),l=o&&o[1].replace(/\$/g,"\\$").replace(/\$|^'|^"|'$|"$/g,"");o=ri.exec(s);let c=o&&o[1].replace(/\$/g,"\\$").replace(/\$|^'|^"|'$|"$/g,"");o=si.exec(s);let u=o&&o[1].replace(/\$/g,"\\$").replace(/\$|^'|^"|'$|"$/g,"");o=ni.exec(s);let m=o&&o[1].replace(/\$/g,"\\$").replace(/\$|^'|^"|'$|"$/g,""),y=`(${[l,c,u,m].join("|")})`,f=`(?:a=)?${r}(?:\\.${y}|\\['${y}'\\]|\\["${y}"\\])\\(a,(\\d+)\\)`,b=new RegExp(f,"g"),R=[];for(;(o=b.exec(n))!==null;)switch(o[1]||o[2]||o[3]){case m:R.push(`sw${o[4]}`);break;case l:R.push("rv");break;case c:R.push(`sl${o[4]}`);break;case u:R.push(`sp${o[4]}`);break}return R}a(oi,"js_tokens");function ai(i,e){let t=e.split(""),r=i.length;for(let s=0;s<r;s++){let n=i[s],o;switch(n.slice(0,2)){case"sw":o=parseInt(n.slice(2)),li(t,o);break;case"rv":t.reverse();break;case"sl":o=parseInt(n.slice(2)),t=t.slice(o);break;case"sp":o=parseInt(n.slice(2)),t.splice(0,o);break}}return t.join("")}a(ai,"deciper_signature");function li(i,e){let t=i[0];i[0]=i[e],i[e]=t}a(li,"swappositions");function ui(i,e){if(!i.url)return;let t=decodeURIComponent(i.url),r=new se.URL(t);r.searchParams.set("ratebypass","yes"),e&&r.searchParams.set(i.sp||"signature",e),i.url=r.toString()}a(ui,"download_url");async function nt(i,e){let t=await h(e),r=oi(t);return i.forEach(s=>{let n=s.signatureCipher||s.cipher;if(n){let o=Object.fromEntries(new se.URLSearchParams(n));Object.assign(s,o),delete s.signatureCipher,delete s.cipher}if(r&&s.s){let o=ai(r,s.s);ui(s,o),delete s.s,delete s.sp}}),i}a(nt,"format_decipher");var v=class{constructor(e={}){if(!e)throw new Error(`Cannot instantiate the ${this.constructor.name} class without data!`);this.type="channel",this.name=e.name||null,this.verified=!!e.verified||!1,this.artist=!!e.artist||!1,this.id=e.id||null,this.url=e.url||null,this.icons=e.icons||[{url:null,width:0,height:0}],this.subscribers=e.subscribers||null}iconURL(e={size:0}){if(typeof e.size!="number"||e.size<0)throw new Error("invalid icon size");if(!this.icons?.[0]?.url)return;let t=this.icons?.[0]?.url.split("=s")[1].split("-c")[0];return this.icons?.[0]?.url.replace(`=s${t}-c`,`=s${e.size}-c`)}toString(){return this.name||""}toJSON(){return{name:this.name,verified:this.verified,artist:this.artist,id:this.id,url:this.url,icons:this.icons,type:this.type,subscribers:this.subscribers}}};a(v,"YouTubeChannel");var B=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}toJSON(){return{url:this.url,width:this.width,height:this.height}}};a(B,"YouTubeThumbnail");var S=class{constructor(e){if(!e)throw new Error(`Can not initiate ${this.constructor.name} without data`);this.id=e.id||void 0,this.url=`https://www.youtube.com/watch?v=${this.id}`,this.type="video",this.title=e.title||void 0,this.description=e.description||void 0,this.durationRaw=e.duration_raw||"0:00",this.durationInSec=(e.duration<0?0:e.duration)||0,this.uploadedAt=e.uploadedAt||void 0,this.liveAt=e.liveAt||void 0,this.upcoming=e.upcoming,this.views=parseInt(e.views)||0;let t=[];for(let r of e.thumbnails)t.push(new B(r));this.thumbnails=t||[],this.channel=new v(e.channel)||{},this.likes=e.likes||0,this.live=!!e.live,this.private=!!e.private,this.tags=e.tags||[],this.discretionAdvised=e.discretionAdvised??void 0,this.music=e.music||[],this.chapters=e.chapters||[]}toString(){return this.url||""}toJSON(){return{id:this.id,url:this.url,title:this.title,description:this.description,durationInSec:this.durationInSec,durationRaw:this.durationRaw,uploadedAt:this.uploadedAt,thumbnail:this.thumbnails[this.thumbnails.length-1].toJSON()||this.thumbnails,channel:this.channel,views:this.views,tags:this.tags,likes:this.likes,live:this.live,private:this.private,discretionAdvised:this.discretionAdvised,music:this.music,chapters:this.chapters}}};a(S,"YouTubeVideo");var ci="https://www.youtube.com/youtubei/v1/browse?key=",D=class{constructor(e,t=!1){this._continuation={};if(!e)throw new Error(`Cannot instantiate the ${this.constructor.name} class without data!`);this.__count=0,this.fetched_videos=new Map,this.type="playlist",t?this.__patchSearch(e):this.__patch(e)}__patch(e){this.id=e.id||void 0,this.url=e.url||void 0,this.title=e.title||void 0,this.videoCount=e.videoCount||0,this.lastUpdate=e.lastUpdate||void 0,this.views=e.views||0,this.link=e.link||void 0,this.channel=new v(e.channel)||void 0,this.thumbnail=e.thumbnail?new B(e.thumbnail):void 0,this.videos=e.videos||[],this.__count++,this.fetched_videos.set(`${this.__count}`,this.videos),this._continuation.api=e.continuation?.api??void 0,this._continuation.token=e.continuation?.token??void 0,this._continuation.clientVersion=e.continuation?.clientVersion??"<important data>"}__patchSearch(e){this.id=e.id||void 0,this.url=this.id?`https://www.youtube.com/playlist?list=${this.id}`:void 0,this.title=e.title||void 0,this.thumbnail=new B(e.thumbnail)||void 0,this.channel=e.channel||void 0,this.videos=[],this.videoCount=e.videos||0,this.link=void 0,this.lastUpdate=void 0,this.views=0}async next(e=1/0){if(!this._continuation||!this._continuation.token)return[];let t=await h(`${ci}${this._continuation.api}&prettyPrint=false`,{method:"POST",body:JSON.stringify({continuation:this._continuation.token,context:{client:{utcOffsetMinutes:0,gl:"US",hl:"en",clientName:"WEB",clientVersion:this._continuation.clientVersion},user:{},request:{}}})}),r=JSON.parse(t)?.onResponseReceivedActions[0]?.appendContinuationItemsAction?.continuationItems;if(!r)return[];let s=xe(r,e);return this.fetched_videos.set(`${this.__count}`,s),this._continuation.token=ne(r),s}async fetch(e=1/0){if(!this._continuation.token)return this;for(e<1&&(e=1/0);typeof this._continuation.token=="string"&&this._continuation.token.length;){this.__count++;let r=await this.next();if(e-=r.length,e<=0||!r.length)break}return this}page(e){if(!e)throw new Error("Page number is not provided");if(!this.fetched_videos.has(`${e}`))throw new Error("Given Page number is invalid");return this.fetched_videos.get(`${e}`)}get total_pages(){return this.fetched_videos.size}get total_videos(){let e=this.total_pages;return(e-1)*100+this.fetched_videos.get(`${e}`).length}async all_videos(){await this.fetch();let e=[];for(let t of this.fetched_videos.values())e.push(...t);return e}toJSON(){return{id:this.id,title:this.title,thumbnail:this.thumbnail?.toJSON()||this.thumbnail,channel:this.channel,url:this.url,videos:this.videos}}};a(D,"YouTubePlayList");var ae=require("url");var oe=/^[a-zA-Z\d_-]{11,12}$/,hi=/^(PL|UU|LL|RD|OL)[a-zA-Z\d_-]{10,}$/,le="AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",at=/^((?:https?:)?\/\/)?(?:(?:www|m|music)\.)?((?:youtube\.com|youtu.be))(\/(?:[\w\-]+\?v=|shorts\/|embed\/|v\/)?)([\w\-]+)(\S+)?$/,di=/^((?:https?:)?\/\/)?(?:(?:www|m|music)\.)?((?:youtube\.com|youtu.be))\/(?:(playlist|watch))?(.*)?((\?|\&)list=)(PL|UU|LL|RD|OL)[a-zA-Z\d_-]{10,}(&.*)?$/;function Y(i){let e=i.trim();if(e.indexOf("list=")===-1)if(e.startsWith("https"))if(e.match(at)){let t;return e.includes("youtu.be/")?t=e.split("youtu.be/")[1].split(/(\?|\/|&)/)[0]:e.includes("youtube.com/embed/")?t=e.split("youtube.com/embed/")[1].split(/(\?|\/|&)/)[0]:e.includes("youtube.com/shorts/")?t=e.split("youtube.com/shorts/")[1].split(/(\?|\/|&)/)[0]:t=e.split("watch?v=")[1]?.split(/(\?|\/|&)/)[0],t?.match(oe)?"video":!1}else return!1;else return e.match(oe)?"video":e.match(hi)?"playlist":"search";else return e.match(di)?"playlist":Y(e.replace(/(\?|\&)list=[^&]*/,""))}a(Y,"yt_validate");function De(i){if(i.startsWith("https://")&&i.match(at)){let e;if(i.includes("youtu.be/")?e=i.split("youtu.be/")[1].split(/(\?|\/|&)/)[0]:i.includes("youtube.com/embed/")?e=i.split("youtube.com/embed/")[1].split(/(\?|\/|&)/)[0]:i.includes("youtube.com/shorts/")?e=i.split("youtube.com/shorts/")[1].split(/(\?|\/|&)/)[0]:e=(i.split("watch?v=")[1]??i.split("&v=")[1]).split(/(\?|\/|&)/)[0],e.match(oe))return e}else if(i.match(oe))return i;return!1}a(De,"extractVideoId");function ue(i){let e=Y(i);if(!e||e==="search")throw new Error("This is not a YouTube url or videoId or PlaylistID");let t=i.trim();if(t.startsWith("https"))if(t.indexOf("list=")===-1){let r=De(t);if(!r)throw new Error("This is not a YouTube url or videoId or PlaylistID");return r}else return t.split("list=")[1].split("&")[0];else return t}a(ue,"extractID");async function H(i,e={}){if(typeof i!="string")throw new Error("url parameter is not a URL string or a string of HTML");let t=i.trim(),r,s={};if(e.htmldata)r=t;else{let p=De(t);if(!p)throw new Error("This is not a YouTube Watch URL");let _=`https://www.youtube.com/watch?v=${p}&has_verified=1`;r=await h(_,{headers:{"accept-language":e.language||"en-US;q=0.9"},cookies:!0,cookieJar:s})}if(r.indexOf("Our systems have detected unusual traffic from your computer network.")!==-1)throw new Error("Captcha page: YouTube has detected that you are a bot!");let n=r.split("var ytInitialPlayerResponse = ")?.[1]?.split(";<\/script>")[0].split(/(?<=}}});\s*(var|const|let)\s/)[0];if(!n)throw new Error("Initial Player Response Data is undefined.");let o=r.split("var ytInitialData = ")?.[1]?.split(";<\/script>")[0].split(/;\s*(var|const|let)\s/)[0];if(!o)throw new Error("Initial Response Data is undefined.");let l=JSON.parse(n),c=JSON.parse(o),u=l.videoDetails,m=!1,y=!1;if(l.playabilityStatus.status!=="OK")if(l.playabilityStatus.status==="CONTENT_CHECK_REQUIRED"){if(e.htmldata)throw new Error(`Accepting the viewer discretion is not supported when using htmldata, video: ${u.videoId}`);m=!0;let p=c.topbar.desktopTopbarRenderer.interstitial?.consentBumpV2Renderer.agreeButton.buttonRenderer.command.saveConsentAction;p&&Object.assign(s,{VISITOR_INFO1_LIVE:p.visitorCookie,CONSENT:p.consentCookie});let _=await lt(u.videoId,s,r,!0);l.streamingData=_.streamingData,c.contents.twoColumnWatchNextResults.secondaryResults=_.relatedVideos}else if(l.playabilityStatus.status==="LIVE_STREAM_OFFLINE")y=!0;else throw new Error(`While getting info from url
-${l.playabilityStatus.errorScreen.playerErrorMessageRenderer?.reason.simpleText??l.playabilityStatus.errorScreen.playerKavRenderer?.reason.simpleText??l.playabilityStatus.reason}`);let f=c.contents.twoColumnWatchNextResults.results?.results?.contents[1]?.videoSecondaryInfoRenderer?.owner?.videoOwnerRenderer,b=f?.badges?.[0]?.metadataBadgeRenderer?.style?.toLowerCase(),R=`https://www.youtube.com${r.split('"jsUrl":"')[1].split('"')[0]}`,Z=[];c.contents.twoColumnWatchNextResults.secondaryResults.secondaryResults.results.forEach(p=>{p.compactVideoRenderer&&Z.push(`https://www.youtube.com/watch?v=${p.compactVideoRenderer.videoId}`),p.itemSectionRenderer?.contents&&p.itemSectionRenderer.contents.forEach(_=>{_.compactVideoRenderer&&Z.push(`https://www.youtube.com/watch?v=${_.compactVideoRenderer.videoId}`)})});let X=l.microformat.playerMicroformatRenderer,Me=c.engagementPanels.find(p=>p?.engagementPanelSectionListRenderer?.panelIdentifier=="engagement-panel-structured-description")?.engagementPanelSectionListRenderer.content.structuredDescriptionContentRenderer.items.find(p=>p.videoDescriptionMusicSectionRenderer)?.videoDescriptionMusicSectionRenderer.carouselLockups,qe=[];Me&&Me.forEach(p=>{if(!p.carouselLockupRenderer)return;let _=p.carouselLockupRenderer,Lt=_.videoLockup?.compactVideoRenderer.title.simpleText??_.videoLockup?.compactVideoRenderer.title.runs?.find(x=>x.text)?.text,Mt=_.infoRows?.map(x=>[x.infoRowRenderer.title.simpleText.toLowerCase(),(x.infoRowRenderer.expandedMetadata??x.infoRowRenderer.defaultMetadata)?.runs?.map(Ut=>Ut.text).join("")??x.infoRowRenderer.defaultMetadata?.simpleText??x.infoRowRenderer.expandedMetadata?.simpleText??""]),qt=Object.fromEntries(Mt??{}),Je=_.videoLockup?.compactVideoRenderer.navigationEndpoint?.watchEndpoint.videoId??_.infoRows?.find(x=>x.infoRowRenderer.title.simpleText.toLowerCase()=="song")?.infoRowRenderer.defaultMetadata.runs?.find(x=>x.navigationEndpoint)?.navigationEndpoint.watchEndpoint?.videoId;qe.push({song:Lt,url:Je?`https://www.youtube.com/watch?v=${Je}`:null,...qt})});let Ue=c.playerOverlays.playerOverlayRenderer.decoratedPlayerBarRenderer?.decoratedPlayerBarRenderer.playerBar?.multiMarkersPlayerBarRenderer.markersMap.find(p=>p.key==="DESCRIPTION_CHAPTERS")?.value?.chapters,Be=[];if(Ue)for(let{chapterRenderer:p}of Ue)Be.push({title:p.title.simpleText,timestamp:ot(p.timeRangeStartMillis/1e3),seconds:p.timeRangeStartMillis/1e3,thumbnails:p.thumbnail.thumbnails});let Ee;if(y)if(X.liveBroadcastDetails.startTimestamp)Ee=new Date(X.liveBroadcastDetails.startTimestamp);else{let p=l.playabilityStatus.liveStreamability.liveStreamabilityRenderer.offlineSlate.liveStreamOfflineSlateRenderer.scheduledStartTime;Ee=new Date(parseInt(p)*1e3)}let Ye=c.contents.twoColumnWatchNextResults.results.results.contents.find(p=>p.videoPrimaryInfoRenderer)?.videoPrimaryInfoRenderer.videoActions.menuRenderer.topLevelButtons?.find(p=>p.toggleButtonRenderer?.defaultIcon.iconType==="LIKE"||p.segmentedLikeDislikeButtonRenderer?.likeButton.toggleButtonRenderer?.defaultIcon.iconType==="LIKE"),We=new S({id:u.videoId,title:u.title,description:u.shortDescription,duration:Number(u.lengthSeconds),duration_raw:ot(u.lengthSeconds),uploadedAt:X.publishDate,liveAt:X.liveBroadcastDetails?.startTimestamp,upcoming:Ee,thumbnails:u.thumbnail.thumbnails,channel:{name:u.author,id:u.channelId,url:`https://www.youtube.com/channel/${u.channelId}`,verified:Boolean(b?.includes("verified")),artist:Boolean(b?.includes("artist")),icons:f?.thumbnail?.thumbnails||void 0},views:u.viewCount,tags:u.keywords,likes:parseInt(Ye?.toggleButtonRenderer?.defaultText.accessibility?.accessibilityData.label.replace(/\D+/g,"")??Ye?.segmentedLikeDislikeButtonRenderer?.likeButton.toggleButtonRenderer?.defaultText.accessibility?.accessibilityData.label.replace(/\D+/g,"")??0),live:u.isLiveContent,private:u.isPrivate,discretionAdvised:m,music:qe,chapters:Be}),K=[];return y||(K.push(...l.streamingData.formats??[]),K.push(...l.streamingData.adaptiveFormats??[]),O(K).length===0&&!e.htmldata&&(K=await ut(u.videoId,s,r))),{LiveStreamData:{isLive:We.live,dashManifestUrl:l.streamingData?.dashManifestUrl??null,hlsManifestUrl:l.streamingData?.hlsManifestUrl??null},html5player:R,format:K,video_details:We,related_videos:Z}}a(H,"video_basic_info");async function W(i,e={}){if(typeof i!="string")throw new Error("url parameter is not a URL string or a string of HTML");let t,r={};if(e.htmldata)t=i;else{let f=De(i);if(!f)throw new Error("This is not a YouTube Watch URL");let b=`https://www.youtube.com/watch?v=${f}&has_verified=1`;t=await h(b,{headers:{"accept-language":"en-US,en;q=0.9"},cookies:!0,cookieJar:r})}if(t.indexOf("Our systems have detected unusual traffic from your computer network.")!==-1)throw new Error("Captcha page: YouTube has detected that you are a bot!");let s=t.split("var ytInitialPlayerResponse = ")?.[1]?.split(";<\/script>")[0].split(/(?<=}}});\s*(var|const|let)\s/)[0];if(!s)throw new Error("Initial Player Response Data is undefined.");let n=JSON.parse(s),o=!1;if(n.playabilityStatus.status!=="OK")if(n.playabilityStatus.status==="CONTENT_CHECK_REQUIRED"){if(e.htmldata)throw new Error(`Accepting the viewer discretion is not supported when using htmldata, video: ${n.videoDetails.videoId}`);let f=t.split("var ytInitialData = ")?.[1]?.split(";<\/script>")[0].split(/;\s*(var|const|let)\s/)[0];if(!f)throw new Error("Initial Response Data is undefined.");let b=JSON.parse(f).topbar.desktopTopbarRenderer.interstitial?.consentBumpV2Renderer.agreeButton.buttonRenderer.command.saveConsentAction;b&&Object.assign(r,{VISITOR_INFO1_LIVE:b.visitorCookie,CONSENT:b.consentCookie});let R=await lt(n.videoDetails.videoId,r,t,!1);n.streamingData=R.streamingData}else if(n.playabilityStatus.status==="LIVE_STREAM_OFFLINE")o=!0;else throw new Error(`While getting info from url
+${l.playabilityStatus.errorScreen.playerErrorMessageRenderer?.reason.simpleText??l.playabilityStatus.errorScreen.playerKavRenderer?.reason.simpleText??l.playabilityStatus.reason}`);let f=c.contents.twoColumnWatchNextResults.results?.results?.contents[1]?.videoSecondaryInfoRenderer?.owner?.videoOwnerRenderer,b=f?.badges?.[0]?.metadataBadgeRenderer?.style?.toLowerCase(),R=`https://www.youtube.com${r.split('"jsUrl":"')[1].split('"')[0]}`,Z=[];c.contents.twoColumnWatchNextResults.secondaryResults.secondaryResults.results.forEach(p=>{p.compactVideoRenderer&&Z.push(`https://www.youtube.com/watch?v=${p.compactVideoRenderer.videoId}`),p.itemSectionRenderer?.contents&&p.itemSectionRenderer.contents.forEach(_=>{_.compactVideoRenderer&&Z.push(`https://www.youtube.com/watch?v=${_.compactVideoRenderer.videoId}`)})});let X=l.microformat.playerMicroformatRenderer,Me=c.engagementPanels.find(p=>p?.engagementPanelSectionListRenderer?.panelIdentifier=="engagement-panel-structured-description")?.engagementPanelSectionListRenderer.content.structuredDescriptionContentRenderer.items.find(p=>p.videoDescriptionMusicSectionRenderer)?.videoDescriptionMusicSectionRenderer.carouselLockups,qe=[];Me&&Me.forEach(p=>{if(!p.carouselLockupRenderer)return;let _=p.carouselLockupRenderer,Lt=_.videoLockup?.compactVideoRenderer.title.simpleText??_.videoLockup?.compactVideoRenderer.title.runs?.find(x=>x.text)?.text,Mt=_.infoRows?.map(x=>[x.infoRowRenderer.title.simpleText.toLowerCase(),(x.infoRowRenderer.expandedMetadata??x.infoRowRenderer.defaultMetadata)?.runs?.map(Ut=>Ut.text).join("")??x.infoRowRenderer.defaultMetadata?.simpleText??x.infoRowRenderer.expandedMetadata?.simpleText??""]),qt=Object.fromEntries(Mt??{}),Je=_.videoLockup?.compactVideoRenderer.navigationEndpoint?.watchEndpoint.videoId??_.infoRows?.find(x=>x.infoRowRenderer.title.simpleText.toLowerCase()=="song")?.infoRowRenderer.defaultMetadata.runs?.find(x=>x.navigationEndpoint)?.navigationEndpoint.watchEndpoint?.videoId;qe.push({song:Lt,url:Je?`https://www.youtube.com/watch?v=${Je}`:null,...qt})});let Ue=c.playerOverlays.playerOverlayRenderer.decoratedPlayerBarRenderer?.decoratedPlayerBarRenderer.playerBar?.multiMarkersPlayerBarRenderer.markersMap?.find?.(p=>p.key==="DESCRIPTION_CHAPTERS")?.value?.chapters,Be=[];if(Ue)for(let{chapterRenderer:p}of Ue)Be.push({title:p.title.simpleText,timestamp:ot(p.timeRangeStartMillis/1e3),seconds:p.timeRangeStartMillis/1e3,thumbnails:p.thumbnail.thumbnails});let Ee;if(y)if(X.liveBroadcastDetails.startTimestamp)Ee=new Date(X.liveBroadcastDetails.startTimestamp);else{let p=l.playabilityStatus.liveStreamability.liveStreamabilityRenderer.offlineSlate.liveStreamOfflineSlateRenderer.scheduledStartTime;Ee=new Date(parseInt(p)*1e3)}let Ye=c.contents.twoColumnWatchNextResults.results.results.contents.find(p=>p.videoPrimaryInfoRenderer)?.videoPrimaryInfoRenderer.videoActions.menuRenderer.topLevelButtons?.find(p=>p.toggleButtonRenderer?.defaultIcon.iconType==="LIKE"||p.segmentedLikeDislikeButtonRenderer?.likeButton.toggleButtonRenderer?.defaultIcon.iconType==="LIKE"),We=new S({id:u.videoId,title:u.title,description:u.shortDescription,duration:Number(u.lengthSeconds),duration_raw:ot(u.lengthSeconds),uploadedAt:X.publishDate,liveAt:X.liveBroadcastDetails?.startTimestamp,upcoming:Ee,thumbnails:u.thumbnail.thumbnails,channel:{name:u.author,id:u.channelId,url:`https://www.youtube.com/channel/${u.channelId}`,verified:Boolean(b?.includes("verified")),artist:Boolean(b?.includes("artist")),icons:f?.thumbnail?.thumbnails||void 0},views:u.viewCount,tags:u.keywords,likes:parseInt(Ye?.toggleButtonRenderer?.defaultText.accessibility?.accessibilityData.label.replace(/\D+/g,"")??Ye?.segmentedLikeDislikeButtonRenderer?.likeButton.toggleButtonRenderer?.defaultText.accessibility?.accessibilityData.label.replace(/\D+/g,"")??0),live:u.isLiveContent,private:u.isPrivate,discretionAdvised:m,music:qe,chapters:Be}),K=[];return y||(K.push(...l.streamingData.formats??[]),K.push(...l.streamingData.adaptiveFormats??[]),O(K).length===0&&!e.htmldata&&(K=await ut(u.videoId,s,r))),{LiveStreamData:{isLive:We.live,dashManifestUrl:l.streamingData?.dashManifestUrl??null,hlsManifestUrl:l.streamingData?.hlsManifestUrl??null},html5player:R,format:K,video_details:We,related_videos:Z}}a(H,"video_basic_info");async function W(i,e={}){if(typeof i!="string")throw new Error("url parameter is not a URL string or a string of HTML");let t,r={};if(e.htmldata)t=i;else{let f=De(i);if(!f)throw new Error("This is not a YouTube Watch URL");let b=`https://www.youtube.com/watch?v=${f}&has_verified=1`;t=await h(b,{headers:{"accept-language":"en-US,en;q=0.9"},cookies:!0,cookieJar:r})}if(t.indexOf("Our systems have detected unusual traffic from your computer network.")!==-1)throw new Error("Captcha page: YouTube has detected that you are a bot!");let s=t.split("var ytInitialPlayerResponse = ")?.[1]?.split(";<\/script>")[0].split(/(?<=}}});\s*(var|const|let)\s/)[0];if(!s)throw new Error("Initial Player Response Data is undefined.");let n=JSON.parse(s),o=!1;if(n.playabilityStatus.status!=="OK")if(n.playabilityStatus.status==="CONTENT_CHECK_REQUIRED"){if(e.htmldata)throw new Error(`Accepting the viewer discretion is not supported when using htmldata, video: ${n.videoDetails.videoId}`);let f=t.split("var ytInitialData = ")?.[1]?.split(";<\/script>")[0].split(/;\s*(var|const|let)\s/)[0];if(!f)throw new Error("Initial Response Data is undefined.");let b=JSON.parse(f).topbar.desktopTopbarRenderer.interstitial?.consentBumpV2Renderer.agreeButton.buttonRenderer.command.saveConsentAction;b&&Object.assign(r,{VISITOR_INFO1_LIVE:b.visitorCookie,CONSENT:b.consentCookie});let R=await lt(n.videoDetails.videoId,r,t,!1);n.streamingData=R.streamingData}else if(n.playabilityStatus.status==="LIVE_STREAM_OFFLINE")o=!0;else throw new Error(`While getting info from url
 ${n.playabilityStatus.errorScreen.playerErrorMessageRenderer?.reason.simpleText??n.playabilityStatus.errorScreen.playerKavRenderer?.reason.simpleText??n.playabilityStatus.reason}`);let l=`https://www.youtube.com${t.split('"jsUrl":"')[1].split('"')[0]}`,c=Number(n.videoDetails.lengthSeconds),u={url:`https://www.youtube.com/watch?v=${n.videoDetails.videoId}`,durationInSec:(c<0?0:c)||0},m=[];o||(m.push(...n.streamingData.formats??[]),m.push(...n.streamingData.adaptiveFormats??[]),O(m).length===0&&!e.htmldata&&(m=await ut(n.videoDetails.videoId,r,t)));let y={isLive:n.videoDetails.isLiveContent,dashManifestUrl:n.streamingData?.dashManifestUrl??null,hlsManifestUrl:n.streamingData?.hlsManifestUrl??null};return await j({LiveStreamData:y,html5player:l,format:m,video_details:u},!0)}a(W,"video_stream_info");function ot(i){let e=Number(i),t=Math.floor(e/3600),r=Math.floor(e%3600/60),s=Math.floor(e%3600%60),n=t>0?(t<10?`0${t}`:t)+":":"",o=r>0?(r<10?`0${r}`:r)+":":"00:",l=s>0?s<10?`0${s}`:s:"00";return n+o+l}a(ot,"parseSeconds");async function ce(i,e={}){let t=await H(i.trim(),e);return await j(t)}a(ce,"video_info");async function j(i,e=!1){return i.LiveStreamData.isLive===!0&&i.LiveStreamData.dashManifestUrl!==null&&i.video_details.durationInSec===0||i.format.length>0&&(i.format[0].signatureCipher||i.format[0].cipher)&&(e&&(i.format=O(i.format)),i.format=await nt(i.format,i.html5player)),i}a(j,"decipher_info");async function he(i,e={}){if(!i||typeof i!="string")throw new Error(`Expected playlist url, received ${typeof i}!`);let t=i.trim();if(t.startsWith("https")||(t=`https://www.youtube.com/playlist?list=${t}`),t.indexOf("list=")===-1)throw new Error("This is not a Playlist URL");if(t.includes("music.youtube.com")){let n=new ae.URL(t);n.hostname="www.youtube.com",t=n.toString()}let r=await h(t,{headers:{"accept-language":e.language||"en-US;q=0.9"}});if(r.indexOf("Our systems have detected unusual traffic from your computer network.")!==-1)throw new Error("Captcha page: YouTube has detected that you are a bot!");let s=JSON.parse(r.split("var ytInitialData = ")[1].split(";<\/script>")[0].split(/;\s*(var|const|let)\s/)[0]);if(s.alerts)if(s.alerts[0].alertWithButtonRenderer?.type==="INFO"){if(!e.incomplete)throw new Error(`While parsing playlist url
 ${s.alerts[0].alertWithButtonRenderer.text.simpleText}`)}else throw s.alerts[0].alertRenderer?.type==="ERROR"?new Error(`While parsing playlist url
 ${s.alerts[0].alertRenderer.text.runs[0].text}`):new Error(`While parsing playlist url